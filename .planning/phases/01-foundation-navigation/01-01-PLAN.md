---
phase: 01-foundation-navigation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - vite.config.ts
  - tsconfig.json
  - tsconfig.app.json
  - tsconfig.node.json
  - index.html
  - src/main.tsx
  - src/App.tsx
  - src/index.css
  - src/vite-env.d.ts
  - src/components/ui/LoadingScreen.tsx
  - Dockerfile
  - Caddyfile
  - .gitignore
autonomous: true

must_haves:
  truths:
    - "Running npm run dev starts development server without errors"
    - "Tailwind utility classes work (bg-bg-primary, text-text-primary)"
    - "Loading screen displays with spinner animation"
    - "Design tokens (colors, fonts) are available as Tailwind classes"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies (react, vite, tailwindcss, lucide-react)"
      contains: "tailwindcss"
    - path: "vite.config.ts"
      provides: "Vite configuration with React and Tailwind plugins"
      contains: "@tailwindcss/vite"
    - path: "src/index.css"
      provides: "Design system tokens via @theme directive"
      contains: "@theme"
    - path: "src/components/ui/LoadingScreen.tsx"
      provides: "Loading screen component with spinner"
      exports: ["LoadingScreen"]
    - path: "Dockerfile"
      provides: "Railway deployment configuration"
      contains: "caddy"
  key_links:
    - from: "vite.config.ts"
      to: "tailwindcss"
      via: "plugin import"
      pattern: "tailwindcss\\(\\)"
    - from: "src/main.tsx"
      to: "src/index.css"
      via: "CSS import"
      pattern: "import.*index\\.css"
---

<objective>
Set up the Vite + React + Tailwind CSS 4 project with the Avancer Simplement design system and create the loading screen component.

Purpose: Establish the technical foundation that all other components will build upon, including design tokens, build configuration, and deployment setup.
Output: Working development environment with design system configured and loading screen ready.
</objective>

<execution_context>
@/root/.claude/get-shit-done/workflows/execute-plan.md
@/root/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-navigation/01-RESEARCH.md
@CLAUDE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Scaffold Vite + React + TypeScript project</name>
  <files>
    package.json
    vite.config.ts
    tsconfig.json
    tsconfig.app.json
    tsconfig.node.json
    index.html
    src/main.tsx
    src/App.tsx
    src/vite-env.d.ts
    .gitignore
  </files>
  <action>
Create a new Vite project with React and TypeScript:

1. Run: `npm create vite@latest . -- --template react-ts` (use current directory)
2. Install dependencies: `npm install tailwindcss @tailwindcss/vite lucide-react`

3. Update `vite.config.ts` to add Tailwind CSS 4 plugin:
```typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import tailwindcss from '@tailwindcss/vite';

export default defineConfig({
  plugins: [
    react(),
    tailwindcss(),
  ],
});
```

4. Update `index.html` to add Google Fonts preconnect and font loading:
- Add preconnect links for fonts.googleapis.com and fonts.gstatic.com
- Add Google Fonts link for Inter (400,500,600,700) and Montserrat (900 italic)
- Set lang="fr" on html element
- Update title to "Cartes des Emotions"

5. Create minimal `src/App.tsx` that just shows "Loading..." text (will be replaced in Plan 02)

6. Ensure `src/main.tsx` imports `./index.css` before rendering App

IMPORTANT: Use Tailwind CSS v4 approach - NO tailwind.config.js, NO postcss.config.js. Tailwind v4 uses the Vite plugin directly.
  </action>
  <verify>
Run `npm run dev` - server starts without errors on localhost:5173
  </verify>
  <done>
Vite dev server runs, React app renders, no console errors
  </done>
</task>

<task type="auto">
  <name>Task 2: Configure design system with Tailwind CSS 4 @theme</name>
  <files>
    src/index.css
  </files>
  <action>
Replace the default Vite CSS with the Avancer Simplement design system using Tailwind CSS 4's @theme directive:

```css
@import "tailwindcss";

@theme {
  /* Backgrounds */
  --color-bg-primary: #2B2E33;
  --color-bg-secondary: #42464D;

  /* Text */
  --color-text-primary: #FFFFFF;
  --color-text-secondary: #E4E7EB;

  /* Brand */
  --color-brand-primary: #3085F5;
  --color-brand-link: #539DFF;

  /* Emotion Colors */
  --color-red: #db0e00;
  --color-orange: #e05a03;
  --color-green: #009a2a;
  --color-purple: #641892;
  --color-yellow: #ffb200;
  --color-taupe: #7A6F5D;
  --color-mint: #4ECDC4;

  /* Typography */
  --font-body: "Inter", sans-serif;
  --font-brand: "Montserrat", sans-serif;
}

/* Base styles */
body {
  font-family: var(--font-body);
  background-color: var(--color-bg-primary);
  color: var(--color-text-primary);
  margin: 0;
  min-height: 100vh;
}
```

This creates Tailwind utility classes like:
- `bg-bg-primary`, `bg-bg-secondary`
- `text-text-primary`, `text-text-secondary`
- `bg-red`, `bg-orange`, `bg-green`, etc. (emotion colors)
- `font-body`, `font-brand`
  </action>
  <verify>
Update App.tsx to use `<div className="bg-bg-secondary text-text-primary p-4">Test</div>` - renders with correct dark gray background and white text
  </verify>
  <done>
Tailwind utility classes from @theme work correctly (bg-bg-primary shows #2B2E33, text-text-primary shows #FFFFFF)
  </done>
</task>

<task type="auto">
  <name>Task 3: Create LoadingScreen component and deployment files</name>
  <files>
    src/components/ui/LoadingScreen.tsx
    Dockerfile
    Caddyfile
  </files>
  <action>
1. Create `src/components/ui/LoadingScreen.tsx`:
```typescript
export function LoadingScreen() {
  return (
    <div className="fixed inset-0 bg-bg-primary flex flex-col items-center justify-center">
      {/* Logo text - Montserrat 900 italic */}
      <h1 className="font-brand text-3xl italic font-black text-text-primary mb-8">
        Cartes des Emotions
      </h1>

      {/* Spinner - simple CSS animation */}
      <div className="w-10 h-10 border-4 border-bg-secondary border-t-brand-primary rounded-full animate-spin" />
    </div>
  );
}
```

2. Create `Dockerfile` for Railway deployment:
```dockerfile
FROM node:lts-alpine AS build
ENV NPM_CONFIG_UPDATE_NOTIFIER=false
ENV NPM_CONFIG_FUND=false
WORKDIR /app
COPY package*.json ./
RUN npm ci
COPY . ./
RUN npm run build

FROM caddy:alpine
WORKDIR /app
COPY Caddyfile ./
RUN caddy fmt Caddyfile --overwrite
COPY --from=build /app/dist ./dist
CMD ["caddy", "run", "--config", "Caddyfile", "--adapter", "caddyfile"]
```

3. Create `Caddyfile`:
```caddyfile
{
  admin off
  auto_https off
}

:{$PORT:3000} {
  root * /app/dist
  encode gzip

  # SPA fallback - redirect all non-file requests to index.html
  try_files {path} /index.html

  file_server
}
```

4. Temporarily update `src/App.tsx` to show LoadingScreen for visual verification:
```typescript
import { LoadingScreen } from './components/ui/LoadingScreen';

function App() {
  return <LoadingScreen />;
}

export default App;
```
  </action>
  <verify>
1. Run `npm run dev` - LoadingScreen shows with centered "Cartes des Emotions" text and spinning indicator
2. Run `npm run build` - builds successfully without errors
  </verify>
  <done>
LoadingScreen displays with branded typography and spinner animation, build completes successfully, Dockerfile and Caddyfile ready for Railway deployment
  </done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run dev` starts without errors
2. Browser shows LoadingScreen with dark background (#2B2E33)
3. "Cartes des Emotions" text uses Montserrat 900 italic font
4. Spinner animates smoothly with brand blue color
5. `npm run build` produces dist/ folder without errors
6. Dockerfile and Caddyfile exist and are properly formatted
</verification>

<success_criteria>
- Vite + React + TypeScript project runs locally
- Tailwind CSS 4 design tokens work (bg-bg-primary, text-text-primary, etc.)
- LoadingScreen component renders with correct styling
- Production build succeeds
- Deployment files (Dockerfile, Caddyfile) are ready
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-navigation/01-01-SUMMARY.md`
</output>
