---
phase: 02-emotion-cards-display
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/types/emotions.ts
  - src/data/emotions.ts
  - src/data/sentiments.ts
  - src/components/emotions/EmotionCard.tsx
autonomous: true

must_haves:
  truths:
    - "Emotion type definitions exist with all required fields"
    - "7 unpleasant emotions data matches content source verbatim"
    - "6 pleasant sentiments data matches content source verbatim"
    - "EmotionCard renders icon, name, and 3 keywords"
    - "EmotionCard has hover elevation effect"
  artifacts:
    - path: "src/types/emotions.ts"
      provides: "Emotion and Sentiment type definitions"
      exports: ["Emotion", "Sentiment", "CulpabiliteSubType"]
    - path: "src/data/emotions.ts"
      provides: "7 unpleasant emotions with full content"
      exports: ["emotions", "emotionIcons"]
    - path: "src/data/sentiments.ts"
      provides: "6 pleasant sentiments with full content"
      exports: ["sentiments", "sentimentIcons"]
    - path: "src/components/emotions/EmotionCard.tsx"
      provides: "Reusable emotion card component"
      exports: ["EmotionCard"]
  key_links:
    - from: "src/data/emotions.ts"
      to: "src/types/emotions.ts"
      via: "import type"
      pattern: "import.*Emotion.*from.*types/emotions"
    - from: "src/components/emotions/EmotionCard.tsx"
      to: "src/types/emotions.ts"
      via: "import type"
      pattern: "import.*Emotion.*from.*types/emotions"
---

<objective>
Create the emotion data layer and reusable EmotionCard component.

Purpose: Establish the foundation for displaying emotion cards by defining types, populating data from the content source, and creating a reusable card component with hover effects.

Output: Type definitions, emotion/sentiment data files, and EmotionCard component ready for use in grid pages.
</objective>

<execution_context>
@/root/.claude/get-shit-done/workflows/execute-plan.md
@/root/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-emotion-cards-display/02-RESEARCH.md
@tableaux-regulation-emotionnelle-complet.md
@src/data/sections.ts
@src/components/home/SectionCard.tsx
@src/index.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create emotion type definitions</name>
  <files>src/types/emotions.ts</files>
  <action>
Create TypeScript type definitions for emotions and sentiments:

```typescript
import { LucideIcon } from 'lucide-react';

// Base emotion structure for unpleasant emotions
export interface Emotion {
  id: string;
  name: string;
  keywords: [string, string, string];  // Exactly 3 keywords for closed card
  color: string;       // Tailwind bg class e.g. 'bg-red'
  textColor: string;   // Tailwind text class
  // Full content for modal (Phase 3)
  variations: string[];
  triggers: string[];
  defensiveReactions: string[];
  needs: string[];
}

// Culpabilite has 4 sub-types instead of direct content
export interface CulpabiliteSubType {
  id: 'saine' | 'de-soi' | 'se-faire' | 'faire';
  name: string;
  keywords: [string, string, string];
  variations: string[];
  triggers: string[];
  defensiveReactions: string[];
  needs: string[];
}

export interface CulpabiliteEmotion {
  id: 'culpabilite';
  name: string;
  keywords: [string, string, string];
  color: string;
  textColor: string;
  subTypes: CulpabiliteSubType[];
}

// Pleasant sentiments have different structure (no defensive reactions)
export interface Sentiment {
  id: string;
  name: string;
  keywords: [string, string, string];
  color: string;
  textColor: string;
  variations: string[];
  triggers: string[];
  satisfiedNeeds: string[];  // Different from Emotion.needs
}

// Union type for rendering
export type EmotionOrSentiment = Emotion | CulpabiliteEmotion | Sentiment;

// Type guard helpers
export function isCulpabilite(item: EmotionOrSentiment): item is CulpabiliteEmotion {
  return item.id === 'culpabilite';
}

export function isSentiment(item: EmotionOrSentiment): item is Sentiment {
  return 'satisfiedNeeds' in item;
}
```
  </action>
  <verify>Run `npx tsc --noEmit` - no type errors</verify>
  <done>Type definitions exist at src/types/emotions.ts with Emotion, CulpabiliteEmotion, Sentiment types and type guards</done>
</task>

<task type="auto">
  <name>Task 2: Create emotions data file with all 7 unpleasant emotions</name>
  <files>src/data/emotions.ts</files>
  <action>
Create data file with 7 unpleasant emotions. Content MUST match tableaux-regulation-emotionnelle-complet.md VERBATIM.

Import icons from lucide-react and map them:
- Colere: Flame
- Honte: EyeOff
- Tristesse: CloudRain
- Degout: ThumbsDown
- Peur: Ghost
- Surprise: Zap
- Culpabilite: Scale

Color mappings (from index.css @theme):
- Colere: bg-red, text-white
- Honte: bg-orange, text-white
- Tristesse: bg-brand-primary, text-white
- Degout: bg-green, text-white
- Peur: bg-purple, text-white
- Surprise: bg-yellow, text-bg-primary (dark text on yellow)
- Culpabilite: bg-taupe, text-white

Keywords (first 3 from "En d'autres mots"):
- Colere: Agace, Frustre, Furieux
- Honte: Embarrasse, Gene, Humilie
- Tristesse: Chagrine, Decu, Melancolique
- Degout: Ecoeure, Repugne, Sature
- Peur: Anxieux, Craintif, Stresse
- Surprise: Choque, Confus, Stupefait
- Culpabilite: Fautif, Mal a l'aise, Responsable

For Culpabilite, create subTypes array with 4 entries:
1. saine: "Se sentir coupable (Culpabilite saine)"
2. de-soi: "Culpabilisation de soi (Culpabilite malsaine)"
3. se-faire: "Se faire culpabiliser (Culpabilite malsaine)"
4. faire: "Culpabiliser l'autre (Culpabilite malsaine)"

Export:
- `emotions`: Array of 6 regular Emotion + 1 CulpabiliteEmotion
- `emotionIcons`: Record mapping emotion id to LucideIcon component
  </action>
  <verify>Run `npx tsc --noEmit` - no type errors. Verify 7 emotions exported.</verify>
  <done>src/data/emotions.ts exports emotions array with 7 items and emotionIcons mapping</done>
</task>

<task type="auto">
  <name>Task 3: Create sentiments data file with all 6 pleasant sentiments</name>
  <files>src/data/sentiments.ts</files>
  <action>
Create data file with 6 pleasant sentiments. Content MUST match tableaux-regulation-emotionnelle-complet.md VERBATIM.

Import icons from lucide-react and map them:
- Amour: Heart
- Fierte: Trophy
- Joie: Smile
- Engagement: Handshake
- Confiance: Shield
- Paix: Leaf

Color mappings:
- Amour: bg-red, text-white (same as Colere - love/passion)
- Fierte: bg-orange, text-white
- Joie: bg-yellow, text-bg-primary (dark text)
- Engagement: bg-green, text-white
- Confiance: bg-brand-primary, text-white
- Paix: bg-mint, text-bg-primary (dark text on mint)

Keywords (first 3 from "En d'autres mots"):
- Amour: Amoureux, Connecte, Passionne
- Fierte: Fier, Epanoui, Satisfait
- Joie: Content, Heureux, Joyeux
- Engagement: Engage, Investi, Interesse
- Confiance: Confiant, Securise, Rassure
- Paix: Apaise, Serein, Comble

Export:
- `sentiments`: Array of 6 Sentiment objects
- `sentimentIcons`: Record mapping sentiment id to LucideIcon component
  </action>
  <verify>Run `npx tsc --noEmit` - no type errors. Verify 6 sentiments exported.</verify>
  <done>src/data/sentiments.ts exports sentiments array with 6 items and sentimentIcons mapping</done>
</task>

<task type="auto">
  <name>Task 4: Create EmotionCard component</name>
  <files>src/components/emotions/EmotionCard.tsx</files>
  <action>
Create reusable EmotionCard component following SectionCard.tsx pattern but with:
- Emotion-specific colored background
- Lucide icon at top (size={32})
- Emotion name as heading
- 3 keywords joined with " · "
- Hover elevation effect (shadow-md to shadow-xl)
- 200ms transition on shadow only (not all properties)
- Focus ring for accessibility

```typescript
import { LucideIcon } from 'lucide-react';

interface EmotionCardProps {
  name: string;
  keywords: [string, string, string];
  color: string;      // e.g. 'bg-red'
  textColor: string;  // e.g. 'text-white'
  icon: LucideIcon;
  onClick: () => void;
}

export function EmotionCard({ name, keywords, color, textColor, icon: Icon, onClick }: EmotionCardProps) {
  return (
    <button
      onClick={onClick}
      className={`
        w-full p-6 rounded-2xl text-left
        ${color} ${textColor}
        shadow-md hover:shadow-xl
        transition-shadow duration-200
        focus:outline-none focus:ring-2 focus:ring-white/50 focus:ring-offset-2 focus:ring-offset-bg-primary
        min-h-[140px]
      `}
    >
      <Icon size={32} className="mb-3" />
      <h3 className="text-lg font-semibold mb-2">{name}</h3>
      <p className="text-sm opacity-90">
        {keywords.join(' · ')}
      </p>
    </button>
  );
}
```

Use `<button>` element (not div) for proper keyboard accessibility.
Use `transition-shadow` specifically (not `transition-all`) for performance.
  </action>
  <verify>Run `npx tsc --noEmit` - no type errors. Component exports correctly.</verify>
  <done>EmotionCard component exists at src/components/emotions/EmotionCard.tsx with icon, name, keywords, hover elevation, and accessibility</done>
</task>

</tasks>

<verification>
Run these commands to verify plan completion:

```bash
# Type check passes
npx tsc --noEmit

# Files exist
ls src/types/emotions.ts
ls src/data/emotions.ts
ls src/data/sentiments.ts
ls src/components/emotions/EmotionCard.tsx

# Exports are correct (grep for export statements)
grep -l "export.*Emotion" src/types/emotions.ts
grep -l "export.*emotions" src/data/emotions.ts
grep -l "export.*sentiments" src/data/sentiments.ts
grep -l "export.*EmotionCard" src/components/emotions/EmotionCard.tsx
```
</verification>

<success_criteria>
- Type definitions compile without errors
- 7 emotions data matches source content
- 6 sentiments data matches source content
- EmotionCard component renders with hover elevation
- All files properly typed with no `any`
</success_criteria>

<output>
After completion, create `.planning/phases/02-emotion-cards-display/02-01-SUMMARY.md`
</output>
