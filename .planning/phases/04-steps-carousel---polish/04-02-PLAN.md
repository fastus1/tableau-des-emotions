---
phase: 04-steps-carousel-polish
plan: 02
type: execute
wave: 2
depends_on: ["04-01"]
files_modified:
  - src/components/steps/StepsPage.tsx
  - src/App.tsx
autonomous: false

must_haves:
  truths:
    - "User can navigate to Les 5 etapes from home page"
    - "User sees one step at a time in the carousel"
    - "User can swipe left/right to navigate steps"
    - "User can use arrow buttons to navigate steps"
    - "User sees progress indicator showing current position (e.g., 2/5)"
    - "Carousel respects reduced motion preference"
  artifacts:
    - path: "src/components/steps/StepsPage.tsx"
      provides: "Steps page wrapping carousel"
      exports: ["StepsPage"]
    - path: "src/App.tsx"
      provides: "Updated routing to render StepsPage"
      contains: "StepsPage"
  key_links:
    - from: "src/App.tsx"
      to: "src/components/steps/StepsPage.tsx"
      via: "import and render on steps view"
      pattern: "import.*StepsPage.*from.*components/steps"
    - from: "src/components/steps/StepsPage.tsx"
      to: "src/components/steps/StepsCarousel.tsx"
      via: "render StepsCarousel"
      pattern: "<StepsCarousel"
---

<objective>
Wire StepsPage into the app and verify the complete carousel experience.

Purpose: Complete Phase 4 by integrating the carousel into navigation and verifying all requirements.
Output: Working 5-step carousel accessible from home page, verified by human testing.
</objective>

<execution_context>
@/root/.claude/get-shit-done/workflows/execute-plan.md
@/root/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-steps-carousel---polish/04-01-SUMMARY.md

@src/App.tsx (update this)
@src/components/home/HomePage.tsx (reference for navigation pattern)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create StepsPage and wire into App</name>
  <files>src/components/steps/StepsPage.tsx, src/App.tsx</files>
  <action>
**Create src/components/steps/StepsPage.tsx:**
- Simple wrapper component that renders StepsCarousel
- Import StepsCarousel from './StepsCarousel'
- Export named function StepsPage
- The carousel component handles all the logic; page is just a container

**Update src/App.tsx:**
- Import StepsPage from './components/steps/StepsPage'
- Replace the placeholder div for `currentView === 'steps'` with `<StepsPage />`
- Keep all other routing unchanged

Pattern from existing pages:
```tsx
{currentView === 'steps' && <StepsPage />}
```
  </action>
  <verify>
`npm run dev` starts without errors
Navigate to Les 5 etapes from home - StepsPage renders
TypeScript compiles: `npx tsc --noEmit`
  </verify>
  <done>StepsPage created and wired into App routing, carousel displays on steps view</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete 5-step carousel with horizontal navigation, progress indicator, and accessibility support</what-built>
  <how-to-verify>
1. Run `npm run dev` and open http://localhost:5173
2. From home page, tap "Les 5 etapes" card
3. Verify first step displays with:
   - Number badge (1 in blue circle)
   - Title "S'arreter"
   - Question in italics
   - 5 action bullet points
   - Navigation arrows (left disabled, right enabled)
   - Progress indicator showing "1/5" and 5 dots (first filled)

4. Test navigation:
   - Tap right arrow - advances to step 2
   - Swipe left on mobile/touch - advances
   - Swipe right - goes back
   - Use keyboard: Tab to focus carousel, ArrowRight/ArrowLeft to navigate
   - Tap progress dots to jump to specific step

5. Verify boundaries:
   - At step 1: left arrow disabled, swipe right does nothing
   - At step 5: right arrow disabled, swipe left does nothing
   - Progress shows "5/5" on last step

6. Test reduced motion (optional):
   - Enable "Reduce motion" in OS accessibility settings
   - Verify transitions are instant (no animation)

7. Test responsiveness:
   - Resize browser to mobile width
   - Verify step card content readable, arrows accessible

8. Verify back navigation:
   - Tap back button - returns to home page
  </how-to-verify>
  <resume-signal>Type "approved" if carousel works correctly, or describe any issues found</resume-signal>
</task>

</tasks>

<verification>
- App compiles and runs without errors
- Navigation from home to steps works
- All 5 steps display correctly with content
- Swipe navigation works on touch devices
- Arrow button navigation works
- Keyboard navigation works (ArrowLeft/ArrowRight)
- Progress indicator updates on navigation
- Boundary conditions handled (no wrap)
- Back button returns to home
</verification>

<success_criteria>
1. User can access Les 5 etapes from home page (STEPS-01 partial)
2. User can swipe or use arrows to navigate through 5 steps horizontally (STEPS-01)
3. User sees current progress indicator (2/5) (STEPS-02)
4. Only one step is visible at a time with smooth transition (STEPS-03)
5. Full navigation flow works in browser
</success_criteria>

<output>
After completion, create `.planning/phases/04-steps-carousel---polish/04-02-SUMMARY.md`
</output>
